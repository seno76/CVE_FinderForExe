# üîê Bochka GUI - –ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç

## üìù –°–≤–æ–¥–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–î–∞—Ç–∞: 28 –Ω–æ—è–±—Ä—è 2025  
–í–µ—Ä—Å–∏—è: 2.0.0

### –û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 1. ‚úÖ –†–µ—à–µ–Ω–∞ –æ—à–∏–±–∫–∞ QThread (Destroyed while thread is still running)

**–ë—ã–ª–æ:**
```python
self.scan_thread.start()  # –ü–æ—Ç–æ–º —Å—Ä–∞–∑—É —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –±–µ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å—Ç–∞—Ä–æ–≥–æ
```

**–°—Ç–∞–ª–æ:**
```python
# –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø–æ—Ç–æ–∫–∞ –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º
if self.scan_thread and self.scan_thread.isRunning():
    self.scan_thread.quit()
    self.scan_thread.wait()

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
self.scan_worker.finished.connect(self.scan_thread.quit)
self.scan_worker.error.connect(self.scan_thread.quit)

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–∞
if self.scan_worker:
    self.scan_worker.deleteLater()
```

#### 2. ‚úÖ –†–µ—à–µ–Ω–∞ –æ—à–∏–±–∫–∞ JSON —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (MockFinding –±–µ–∑ to_dict)

**–ë—ã–ª–æ:**
```python
class MockFinding:
    def __init__(self, data):
        self.file_path = data['install_path']
        # ... –Ω–µ—Ç –º–µ—Ç–æ–¥–∞ to_dict()
```

**–°—Ç–∞–ª–æ:**
```python
from src.scanner.file_scanner import VulnerabilityFinding

finding = VulnerabilityFinding(
    file_path=result['install_path'],
    software_name=result['software_name'],
    software_version=result['software_version'],
    vulnerabilities=result['vulnerabilities']
)
# VulnerabilityFinding –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥ to_dict()
```

#### 3. ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Linux –≤ GUI

**–ë—ã–ª–æ:**
```python
self.registry_btn = QPushButton("ü™ü –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–µ—Å—Ç—Ä Windows")
self.registry_btn.setEnabled(False)  # –í—Ä–æ–¥–µ –æ—Ç–∫–ª—é—á–µ–Ω–∞, –Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

# –í—Å–µ–≥–¥–∞ –æ—à–∏–±–∫–∞ –Ω–∞ Linux: self.registry_btn.setEnabled(True)
if sys.platform == 'win32':
    self.registry_btn.setEnabled(True)
```

**–°—Ç–∞–ª–æ:**
```python
# –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ Windows
if sys.platform == 'win32':
    self.registry_btn = QPushButton("ü™ü –°–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–µ—Å—Ç—Ä Windows")
    self.registry_btn.clicked.connect(self.scan_registry)
    self.registry_btn.setEnabled(False)
    mode_layout.addWidget(self.registry_btn)
else:
    self.registry_btn = None  # –ù–∞ Linux –∫–Ω–æ–ø–∫–∞ –≤–æ–æ–±—â–µ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è

# –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫–Ω–æ–ø–∫–æ–π
if self.registry_btn:
    self.registry_btn.setEnabled(True)
```

## üåç –ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å

### Windows ‚úÖ
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏
- **–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–µ—Å—Ç—Ä–∞** (—Ç–æ–ª—å–∫–æ –Ω–∞ Windows)
- –ü–æ–ª–Ω–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Program Files)
- JSON/HTML –æ—Ç—á—ë—Ç—ã

### Linux ‚úÖ
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏
- **–ù–µ—Ç —Ä–µ–µ—Å—Ç—Ä–∞** (–Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º–æ –Ω–∞ Linux)
- –ü–æ–ª–Ω–æ–µ —Å–∏—Å—Ç–µ–º–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (/usr/bin, /usr/local/bin, /opt)
- JSON/HTML –æ—Ç—á—ë—Ç—ã

### macOS ‚úÖ
- –ö–∞–∫ Linux
- –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## üìä –§–∞–π–ª—ã, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ

```
‚úèÔ∏è  apps/gui_scanner.py
    ‚îú‚îÄ –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç VulnerabilityFinding
    ‚îú‚îÄ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è UI (—Ä–µ–µ—Å—Ç—Ä —Ç–æ–ª—å–∫–æ –Ω–∞ Windows)
    ‚îú‚îÄ –£–ª—É—á—à–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏
    ‚îú‚îÄ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–µ—Å—Ç—Ä–∞
    ‚îî‚îÄ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –≤–∫–ª—é—á–µ–Ω–∏–µ/–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫

üßπ requirements.txt
    ‚îî‚îÄ –£–¥–∞–ª—ë–Ω winreg-py (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å Windows)

üìÑ GUI_CROSSPLATFORM.md (–Ω–æ–≤—ã–π)
    ‚îî‚îÄ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç–∏

üìÑ GUI_FIXES_v2.0.md (–Ω–æ–≤—ã–π)
    ‚îî‚îÄ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º
```

## üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∏ —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–π–¥–µ–Ω—ã

1. **–°–∏–Ω—Ç–∞–∫—Å–∏—Å Python** - OK
   ```bash
   python -m py_compile apps/gui_scanner.py
   ```

2. **–ò–º–ø–æ—Ä—Ç—ã** - OK
   ```python
   from src.scanner.file_scanner import VulnerabilityFinding
   ```

3. **–ü–æ—Ç–æ–∫–∏** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ "QThread: Destroyed while thread is still running"

4. **JSON/HTML** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ VulnerabilityFinding —Å –º–µ—Ç–æ–¥–æ–º to_dict()

5. **Linux —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –î–æ–±–∞–≤–ª–µ–Ω–∞
   - –£—Å–ª–æ–≤–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –ø—É—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –û–°

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Windows
```bash
cd D:\Projects\Bochka
python apps/gui_scanner.py
# –∏–ª–∏
run_gui.bat
```

### Linux
```bash
cd /path/to/Bochka
python3 apps/gui_scanner.py
# –° –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–∞–ø–æ–∫:
sudo python3 apps/gui_scanner.py
```

### macOS
```bash
cd /path/to/Bochka
python3 apps/gui_scanner.py
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ |
|---------|-----|--------|
| –û—à–∏–±–æ–∫ –ø–æ—Ç–æ–∫–æ–≤ | 1 | 0 ‚úÖ |
| –û—à–∏–±–æ–∫ JSON | 1 | 0 ‚úÖ |
| –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –û–° | 1 | 3 ‚úÖ |
| –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å GUI | 80% | 100% ‚úÖ |
| –ö–æ–¥ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è | –°—Ä–µ–¥–Ω–∏–π | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π ‚úÖ |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | –ë–∞–∑–æ–≤–∞—è | –ü–æ–ª–Ω–∞—è ‚úÖ |

## üíæ –í–µ—Ä—Å–∏–∏

### v2.0.0 (—Ç–µ–∫—É—â–∞—è)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –ø–æ—Ç–æ–∫–æ–≤
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ JSON —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- ‚úÖ –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Linux/macOS
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### v1.0.0
- ‚úÖ –ë–∞–∑–æ–≤—ã–π GUI —Å 3 —Ç–∞–±–∞–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Windows
- ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ç–æ–∫–∞–º–∏
- ‚ö†Ô∏è –û—à–∏–±–∫–∏ JSON –Ω–∞ —Ä–µ–µ—Å—Ç—Ä–µ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í—Å–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:
1. ‚ùå QThread: Destroyed while thread is still running ‚Üí ‚úÖ –†–µ—à–µ–Ω–æ
2. ‚ùå 'MockFinding' has no to_dict ‚Üí ‚úÖ –†–µ—à–µ–Ω–æ
3. ‚ùå Linux –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å ‚Üí ‚úÖ –†–µ—à–µ–Ω–æ

## üéâ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö.
